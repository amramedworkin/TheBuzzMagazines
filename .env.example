# ============================================================================
# TheBuzzMagazines Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values:
#   cp .env.example .env
# ============================================================================

# ============================================================================
# AZURE RESOURCE CONFIGURATION
# ============================================================================
# Used by scripts/azure-provision.sh to create Azure resources
# ============================================================================

# Azure subscription and location
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_LOCATION=eastus

# Resource naming (all resources will use this prefix)
AZURE_RESOURCE_PREFIX=buzzmag
AZURE_RESOURCE_GROUP=rg-${AZURE_RESOURCE_PREFIX}-suitecrm

# Azure MySQL Flexible Server
AZURE_MYSQL_SERVER_NAME=${AZURE_RESOURCE_PREFIX}-mysql
AZURE_MYSQL_SKU=Standard_B1ms
AZURE_MYSQL_STORAGE_GB=32
AZURE_MYSQL_VERSION=8.0-lts

# Azure Storage Account (must be globally unique, lowercase, no hyphens)
AZURE_STORAGE_ACCOUNT_NAME=${AZURE_RESOURCE_PREFIX}storage
AZURE_STORAGE_SKU=Standard_LRS

# Azure Container Registry (must be globally unique, lowercase, no hyphens)
AZURE_ACR_NAME=${AZURE_RESOURCE_PREFIX}acr
AZURE_ACR_SKU=Basic

# Azure Container Apps
AZURE_CONTAINER_APP_ENV=${AZURE_RESOURCE_PREFIX}-cae
AZURE_CONTAINER_APP_NAME=suitecrm

# ----------------------------------------------------------------------------
# SOURCE DATABASE (MySQL - Advertisers DB from Access migration)
# This is the source for migrating data TO SuiteCRM
# ----------------------------------------------------------------------------
SOURCE_DB_HOST=localhost
SOURCE_DB_PORT=3306
SOURCE_DB_NAME=advertisers
SOURCE_DB_USER=your_username
SOURCE_DB_PASSWORD=your_password

# ----------------------------------------------------------------------------
# TARGET DATABASE (MariaDB - SuiteCRM)
# This is where data will be migrated TO
# ----------------------------------------------------------------------------
TARGET_DB_HOST=localhost
TARGET_DB_PORT=3306
TARGET_DB_NAME=suitecrm
TARGET_DB_USER=your_username
TARGET_DB_PASSWORD=your_password

# ----------------------------------------------------------------------------
# BACKUP CONFIGURATION
# ----------------------------------------------------------------------------
BACKUP_DIR=databases/backups

# ============================================================================
# DOCKER / SUITECRM ENVIRONMENT (SuiteCRM 8.8.0)
# ============================================================================
# These are used by docker-compose.yml and the SuiteCRM container
# For local dev with Azure backend, these point to Azure MySQL
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Azure MySQL Flexible Server)
# ----------------------------------------------------------------------------
# These will be auto-populated by azure-provision.sh after resource creation
DATABASE_HOST=${AZURE_MYSQL_SERVER_NAME}.mysql.database.azure.com
DATABASE_PORT=3306
DATABASE_NAME=suitecrm
DATABASE_USER=suitecrm
DATABASE_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# SSL Settings (required for Azure MySQL)
DATABASE_SSL_ENABLED=true
DATABASE_SSL_VERIFY=true

# ----------------------------------------------------------------------------
# SUITECRM CONFIGURATION
# ----------------------------------------------------------------------------
SUITECRM_SITE_URL=http://localhost
SUITECRM_ADMIN_USER=admin
SUITECRM_ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD
SUITECRM_LOG_LEVEL=debug
SUITECRM_INSTALLER_LOCKED=false

# ----------------------------------------------------------------------------
# GENERAL
# ----------------------------------------------------------------------------
TZ=America/New_York
SKIP_DB_WAIT=false

# ----------------------------------------------------------------------------
# LOCAL AZURE FILES MOUNT PATHS
# ----------------------------------------------------------------------------
# Used by docker-compose.yml for local dev with Azure Files
# Set these after running: scripts/azure-mount.sh
AZURE_FILES_MOUNT_BASE=/mnt/azure/suitecrm
